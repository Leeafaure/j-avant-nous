:root{
  --bg1:#ffd6e8; --bg2:#fff1f7; --text:#5a2a4a; --muted: rgba(90,42,74,.70);
  --card: rgba(255,255,255,.92); --stroke: rgba(90,42,74,.10);
  --shadow: 0 14px 40px rgba(0,0,0,.10); --shadowSoft: 0 10px 28px rgba(0,0,0,.08);
  --radius: 22px; --radius2: 16px; --tabH: 86px;
}
*{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html, body, #root{ height:100%; }
body{
  margin:0; font-family:-apple-system, BlinkMacSystemFont, "Poppins", system-ui, sans-serif;
  color:var(--text);
  background:
    radial-gradient(900px circle at 12% 8%, rgba(255,160,200,.35), transparent 52%),
    radial-gradient(900px circle at 92% 18%, rgba(160,210,255,.35), transparent 52%),
    radial-gradient(900px circle at 45% 96%, rgba(170,255,220,.28), transparent 55%),
    linear-gradient(135deg, var(--bg1), var(--bg2));
}
a, button, input, textarea { font:inherit; color:inherit; }
a{ color: rgba(140,60,110,.95); text-decoration:none; }

.app{ min-height:100%; display:flex; justify-content:center; }
.appValentine{
  background:
    radial-gradient(760px circle at 8% 0%, rgba(255,84,137,.20), transparent 56%),
    radial-gradient(760px circle at 94% 10%, rgba(255,140,168,.24), transparent 54%),
    linear-gradient(140deg, #ffe0ea, #fff7fa 58%, #ffeecf);
}
.appValentine .shell{
  position:relative;
}
.appValentine .shell::before{
  content:"";
  position:absolute;
  top:-32px;
  left:-40px;
  right:-40px;
  height:170px;
  pointer-events:none;
  background:
    radial-gradient(circle at 10% 72%, rgba(243,59,112,.22) 0 6px, transparent 7px),
    radial-gradient(circle at 30% 25%, rgba(240,94,140,.24) 0 7px, transparent 8px),
    radial-gradient(circle at 55% 68%, rgba(234,90,139,.20) 0 6px, transparent 7px),
    radial-gradient(circle at 80% 28%, rgba(252,143,114,.20) 0 7px, transparent 8px),
    radial-gradient(circle at 95% 72%, rgba(248,84,132,.16) 0 6px, transparent 7px);
  animation: valentineFloat 7s ease-in-out infinite;
}
.appValentine .shell > *{
  position:relative;
  z-index:1;
}
.shell{
  width:100%; max-width:430px; padding:22px 16px;
  padding-bottom: calc(var(--tabH) + 22px + env(safe-area-inset-bottom));
}
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  margin-bottom:8px;
}
.topbarMenuBtn{
  border:1px solid rgba(90,42,74,.14);
  background: rgba(255,255,255,.9);
  border-radius:999px;
  padding:8px 12px;
  font-size:12px;
  font-weight:900;
  color:rgba(90,42,74,.78);
  white-space:nowrap;
}
.topMenuPanel{
  margin-bottom:12px;
  background: rgba(255,255,255,.78);
  border:1px solid var(--stroke);
  border-radius:20px;
  padding:10px;
  box-shadow: 0 12px 30px rgba(0,0,0,.08);
  backdrop-filter: blur(8px);
}
.topMenuRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
}
.roomPill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  min-width:0;
  padding:8px 12px;
  border-radius:14px;
  background: rgba(255,255,255,.88);
  border:1px solid var(--stroke);
}
.roomPillLabel{
  font-size:10px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:rgba(90,42,74,.58);
  font-weight:900;
}
.roomPillValue{
  font-size:13px;
  font-weight:900;
  color:var(--text);
  word-break:break-all;
}
.topbarChangeBtn{
  border:1px solid rgba(90,42,74,.14);
  background: rgba(255,255,255,.9);
  border-radius:12px;
  padding:9px 12px;
  margin-top:8px;
  width:100%;
  font-size:12px;
  font-weight:900;
  color:rgba(90,42,74,.78);
}
.syncPill{
  margin-top:8px;
  padding:8px 10px;
  border-radius:12px;
  font-size:12px;
  font-weight:800;
  line-height:1.2;
}
.syncPillSyncing{ background: rgba(245, 231, 183, .55); color: rgba(125,91,17,.85); }
.syncPillOk{ background: rgba(198, 244, 211, .65); color: rgba(21, 91, 47, .85); }
.syncPillError{ background: rgba(255, 219, 219, .75); color: rgba(142, 34, 34, .9); }
.badge{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
  background: rgba(255,255,255,.75); border:1px solid var(--stroke); box-shadow:0 10px 24px rgba(0,0,0,.06);
  color: var(--muted); font-size:12px; user-select:none;
}
.appValentine .badge{
  background: rgba(255,255,255,.86);
  border-color: rgba(209,57,108,.22);
}
.valentineBanner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin:0 0 12px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(206,46,99,.24);
  background: linear-gradient(92deg, rgba(255,219,231,.96), rgba(255,242,211,.94));
  box-shadow: 0 10px 22px rgba(177,38,89,.12);
}
.valentineBannerText{
  font-size:12px;
  font-weight:900;
  color: rgba(128,26,63,.84);
}
.valentineBadgeIcon{
  font-size:19px;
  animation: valentinePulse 1.8s ease-in-out infinite;
}
.valentineHomeNote{
  margin:-2px 0 14px;
  padding:11px 12px;
  border-radius:14px;
  border:1px solid rgba(211,55,106,.23);
  background: rgba(255,255,255,.78);
  color: rgba(121,27,61,.84);
  font-size:13px;
  font-weight:800;
  line-height:1.35;
  box-shadow: 0 10px 20px rgba(177,38,89,.10);
  animation: valentineCardIn 420ms cubic-bezier(.2,.7,.2,1);
}
.h1{ font-size:26px; font-weight:900; margin:10px 0 8px; letter-spacing:-.03em; }
.p{ margin:0 0 18px; color:var(--muted); line-height:1.35; }

.card{
  background: var(--card); border: 1px solid var(--stroke); border-radius: var(--radius);
  box-shadow: var(--shadow); padding: 18px 16px; backdrop-filter: blur(6px);
}
.appValentine .card{
  background: linear-gradient(155deg, rgba(255,255,255,.95), rgba(255,246,250,.90));
  border-color: rgba(209,57,108,.19);
  box-shadow: 0 18px 36px rgba(170,35,84,.12);
  animation: valentineCardIn 440ms cubic-bezier(.2,.7,.2,1);
}
.sectionTitle{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; color:var(--muted); font-size:13px; font-weight:900; }
.label{ font-size:15px; margin:10px 0 8px; color:var(--muted); font-weight:700; }
.input, .textarea{
  width:100%; font-size:16px; border-radius:14px; border:1px solid rgba(240,214,226,1);
  outline:none; background:#fff; box-shadow: inset 0 1px 0 rgba(255,255,255,.7);
}
.input{ padding:12px; }
.textarea{ padding:12px; min-height:92px; resize:vertical; line-height:1.25; }
.input:focus, .textarea:focus{ border-color:#f3b6cf; box-shadow:0 0 0 4px rgba(243,182,207,.35); }
.appValentine .input:focus, .appValentine .textarea:focus{
  border-color: rgba(240,98,140,.55);
  box-shadow: 0 0 0 4px rgba(240,98,140,.2);
}
.result{ margin-top:14px; font-size:20px; line-height:1.25; font-weight:800; }
.sub{ margin-top:6px; font-size:14px; color:var(--muted); line-height:1.25; }

.timerRow{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:12px; }
.tile{
  background: rgba(255,255,255,.86); border:1px solid var(--stroke); border-radius: var(--radius2);
  padding:10px; box-shadow: var(--shadowSoft); text-align:center;
}
.tileLabel{ font-size:11px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted); font-weight:900; }
.tileValue{ margin-top:6px; font-size:22px; font-weight:900; font-variant-numeric: tabular-nums; }

.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px; }
.row{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px; }
.panel{ background: rgba(255,247,251,1); border:1px solid rgba(244,220,232,1); border-radius: var(--radius2); padding:12px; }
.panelTitle{ font-size:11px; letter-spacing:.14em; text-transform:uppercase; color: rgba(209,88,141,.80); font-weight:900; }
.panelTitle.blue{ color: rgba(70,140,210,.75); }
.panelBody{ margin-top:6px; font-size:15px; font-weight:750; color:var(--text); line-height:1.25; }
.appValentine .panel,
.appValentine .item,
.appValentine .topMenuPanel,
.appValentine .tabbar{
  background: rgba(255,250,252,.9);
  border-color: rgba(209,57,108,.17);
}
.appValentine .panelTitle,
.appValentine .panelTitle.blue,
.appValentine .roomPillLabel{
  color: rgba(182,33,84,.82);
}

.btn{
  margin-top:12px; width:100%; border:0; border-radius:16px; padding:12px 14px;
  font-size:16px; font-weight:900; color:var(--text);
  background: linear-gradient(90deg, #ffc6dc, #d9efff);
  box-shadow: 0 14px 28px rgba(0,0,0,.10);
}
.appValentine .btn{
  background: linear-gradient(100deg, #ffd2df, #ffdba5 55%, #ffe8d1);
  box-shadow: 0 14px 28px rgba(185,43,91,.16);
}
.btn:active{ transform: scale(0.99); }
.btn:disabled{ opacity: .55; }

.sep{ height:1px; background: rgba(90,42,74,.10); margin:12px 0; }
.small{ margin-top:10px; font-size:12px; color: rgba(90,42,74,.60); text-align:center; }
.heart{ text-align:center; font-size:30px; margin-top:12px; }
.appValentine .heart{
  filter: drop-shadow(0 6px 12px rgba(185,43,91,.2));
}

.list{ display:flex; flex-direction:column; gap:10px; margin-top:10px; }
.item{ background: rgba(255,255,255,.84); border:1px solid rgba(90,42,74,.10); border-radius: var(--radius2); padding:12px; box-shadow: 0 10px 22px rgba(0,0,0,.06); }
.itemTop{ display:flex; justify-content:space-between; gap:10px; }
.itemTitle{ font-weight:950; line-height:1.2; font-size:14px; }
.itemMeta{ font-size:12px; color: rgba(90,42,74,.55); font-weight:800; white-space:nowrap; }

.tabs{
  position: fixed; left:0; right:0; bottom:0; z-index: 9999;
  padding: 12px 16px calc(12px + env(safe-area-inset-bottom));
}
.tabbar{
  width:100%; max-width:430px; margin:0 auto; display:grid; grid-template-columns:repeat(5, 1fr); gap:8px;
  padding:10px; border-radius:22px; background: rgba(255,255,255,.88);
  border:1px solid var(--stroke); box-shadow: 0 14px 36px rgba(0,0,0,.10); backdrop-filter: blur(10px);
}
.tabbtn{
  border:0; background:transparent; border-radius:16px; padding:10px 8px;
  color: rgba(90,42,74,.75); font-weight:950; display:flex; flex-direction:column; align-items:center; gap:4px; font-size:12px;
}
.tabbtnActive{ background: linear-gradient(90deg, rgba(255,198,220,.75), rgba(217,239,255,.85)); color:var(--text); box-shadow: 0 10px 22px rgba(0,0,0,.08); }
.appValentine .tabbtnActive{
  background: linear-gradient(100deg, rgba(255,210,223,.9), rgba(255,219,165,.85));
  box-shadow: 0 10px 22px rgba(185,43,91,.16);
}
.tabicon{ font-size:16px; line-height:1; }
canvas{ pointer-events:none !important; }

.subtabs{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
  padding:8px;
  border-radius:16px;
  background: rgba(255,255,255,.72);
  border:1px solid var(--stroke);
}
.subtabBtn{
  border:0;
  border-radius:12px;
  padding:10px 8px;
  font-size:12px;
  font-weight:900;
  color: rgba(90,42,74,.75);
  background: transparent;
}
.subtabBtnActive{
  background: linear-gradient(90deg, rgba(255,198,220,.72), rgba(217,239,255,.85));
  color: var(--text);
  box-shadow: 0 8px 20px rgba(0,0,0,.08);
}
.appValentine .subtabBtnActive{
  background: linear-gradient(100deg, rgba(255,210,223,.85), rgba(255,219,165,.8));
}

@media (max-width: 410px) {
  .shell{
    padding:18px 12px;
    padding-bottom: calc(var(--tabH) + 18px + env(safe-area-inset-bottom));
  }
  .h1{ font-size:24px; }
  .card{ padding:16px 14px; }
  .badge{ font-size:11px; padding:7px 10px; }
  .topbarMenuBtn{ font-size:11px; padding:7px 10px; }
  .tabbar{ gap:6px; padding:8px; }
  .tabbtn{ font-size:11px; padding:9px 4px; }
  .tabicon{ font-size:15px; }
}

@media (max-width: 360px) {
  .grid2,
  .row,
  .subtabs{
    grid-template-columns:1fr;
  }
  .topMenuRow{
    flex-direction:column;
    align-items:stretch;
  }
  .roomPill{
    width:100%;
    justify-content:space-between;
  }
  .timerRow{ gap:8px; }
  .tileValue{ font-size:20px; }
  .tabs{
    padding:8px 8px calc(8px + env(safe-area-inset-bottom));
  }
}

/* Calendar styles */
.react-calendar {
  width: 100%;
  max-width: 100%;
  background: rgba(255,255,255,.9);
  border: 1px solid rgba(90,42,74,.1);
  border-radius: 16px;
  font-family: inherit;
  line-height: 1.125em;
}
.react-calendar--doubleView {
  width: 700px;
}
.react-calendar--doubleView .react-calendar__viewContainer {
  display: flex;
  margin: -0.5em;
}
.react-calendar--doubleView .react-calendar__viewContainer > * {
  width: 50%;
  margin: 0.5em;
}
.react-calendar,
.react-calendar *,
.react-calendar *:before,
.react-calendar *:after {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.react-calendar button {
  margin: 0;
  border: 0;
  outline: none;
}
.react-calendar button:enabled:hover,
.react-calendar button:enabled:focus {
  background-color: rgba(243,182,207,.3);
}
.react-calendar__navigation {
  display: flex;
  height: 44px;
  margin-bottom: 1em;
}
.react-calendar__navigation button {
  min-width: 44px;
  background: none;
  font-size: 16px;
  margin-top: 8px;
}
.react-calendar__navigation button:disabled {
  background-color: rgba(90,42,74,.1);
}
.react-calendar__navigation button:enabled:hover,
.react-calendar__navigation button:enabled:focus {
  background-color: rgba(243,182,207,.2);
}
.react-calendar__month-view__weekdays {
  text-align: center;
  text-transform: uppercase;
  font-weight: bold;
  font-size: 0.75em;
  color: rgba(90,42,74,.6);
}
.react-calendar__month-view__weekdays__weekday {
  padding: 0.5em;
}
.react-calendar__month-view__weekNumbers .react-calendar__tile {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75em;
  font-weight: bold;
  color: rgba(90,42,74,.6);
}
.react-calendar__month-view__days__day--weekend {
  color: rgba(209,88,141,.8);
}
.react-calendar__month-view__days__day--neighboringMonth {
  color: rgba(90,42,74,.3);
}
.react-calendar__year-view .react-calendar__tile,
.react-calendar__decade-view .react-calendar__tile,
.react-calendar__century-view .react-calendar__tile {
  padding: 2em 0.5em;
}
.react-calendar__tile {
  max-width: 100%;
  padding: 0.75em 0.5em;
  background: none;
  text-align: center;
  line-height: 16px;
  font-size: 14px;
  color: var(--text);
}
.react-calendar__tile:disabled {
  background-color: rgba(90,42,74,.1);
}
.react-calendar__tile:enabled:hover,
.react-calendar__tile:enabled:focus {
  background-color: rgba(243,182,207,.2);
}
.react-calendar__tile--now {
  background: rgba(243,182,207,.4);
  border-radius: 6px;
}
.react-calendar__tile--now:enabled:hover,
.react-calendar__tile--now:enabled:focus {
  background: rgba(243,182,207,.5);
}
.react-calendar__tile--hasActive {
  background: rgba(243,182,207,.6);
}
.react-calendar__tile--hasActive:enabled:hover,
.react-calendar__tile--hasActive:enabled:focus {
  background: rgba(243,182,207,.7);
}
.react-calendar__tile--active {
  background: rgba(243,182,207,.8);
  border-radius: 6px;
  font-weight: bold;
  color: white;
}
.react-calendar__tile--active:enabled:hover,
.react-calendar__tile--active:enabled:focus {
  background: rgba(243,182,207,.9);
}

@keyframes valentinePulse {
  0% { transform: scale(1); }
  35% { transform: scale(1.12); }
  70% { transform: scale(0.98); }
  100% { transform: scale(1); }
}
@keyframes valentineFloat {
  0% { transform: translateY(0px); opacity: .72; }
  50% { transform: translateY(-8px); opacity: .98; }
  100% { transform: translateY(0px); opacity: .72; }
}
@keyframes valentineCardIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@media (prefers-reduced-motion: reduce) {
  .appValentine .shell::before,
  .appValentine .card,
  .valentineBadgeIcon,
  .valentineHomeNote {
    animation: none !important;
  }
}
